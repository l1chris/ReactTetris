(this["webpackJsonpreact-tetris"]=this["webpackJsonpreact-tetris"]||[]).push([[0],{17:function(t,e,r){},26:function(t,e,r){},35:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAAAyCAYAAAAZUZThAAABhWlDQ1BJQ0MgcHJvZmlsZQAAKJF9kT1Iw0AcxV9TpX5UOthBxCFDdbIgKiJOWoUiVAi1QqsOJpd+QZOGJMXFUXAtOPixWHVwcdbVwVUQBD9AnBydFF2kxP81hRYxHhz34929x907QKiVmGZ1jAGabpvJeExMZ1bFwCu60Y9ehDAjM8uYk6QEPMfXPXx8vYvyLO9zf44+NWsxwCcSzzLDtIk3iKc2bYPzPnGYFWSV+Jx41KQLEj9yXXH5jXO+wQLPDJup5DxxmFjMt7HSxqxgasSTxBFV0ylfSLusct7irJUqrHlP/sJgVl9Z5jrNIcSxiCVIEKGggiJKsBGlVSfFQpL2Yx7+wYZfIpdCriIYORZQhga54Qf/g9/dWrmJcTcpGAM6XxznYxgI7AL1quN8HztO/QTwPwNXestfrgHTn6RXW1rkCAhtAxfXLU3ZAy53gIEnQzblhuSnKeRywPsZfVMG6L8Fetbc3pr7OH0AUtRV4gY4OARG8pS97vHurvbe/j3T7O8HgdNyrZtfF2UAAAAJcEhZcwAALiMAAC4jAXilP3YAAAAHdElNRQfkCRMMCiIoKDk+AAAAGXRFWHRDb21tZW50AENyZWF0ZWQgd2l0aCBHSU1QV4EOFwAAAKtJREFUeNrt1TEKgCAUgOF8BA5BZ+j+p+oMQYOLNrXlEE3S903i9BR+XsoRbYKfK7Wmp/vwNdA334dlP4Z8wLmt5jf/5/l7bBAQCAgEBAICAYGAQEAgIBAQCCAQEAgIBAQCAgGBgEBAICAQEAggEBAICAQEAgIBgYBAQCAgEEAgIBAQCAgEBAICAYGAQEAgIBBAICAQEAgIBAQCAoFBpRzRfAN/V2pNNgi8dAGsYhRl0zSVZQAAAABJRU5ErkJggg=="},36:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJYAAABkCAYAAABkW8nwAAABhWlDQ1BJQ0MgcHJvZmlsZQAAKJF9kT1Iw0AcxV9TpX5UOthBxCFDdbIgKiJOWoUiVAi1QqsOJpd+QZOGJMXFUXAtOPixWHVwcdbVwVUQBD9AnBydFF2kxP81hRYxHhz34929x907QKiVmGZ1jAGabpvJeExMZ1bFwCu60Y9ehDAjM8uYk6QEPMfXPXx8vYvyLO9zf44+NWsxwCcSzzLDtIk3iKc2bYPzPnGYFWSV+Jx41KQLEj9yXXH5jXO+wQLPDJup5DxxmFjMt7HSxqxgasSTxBFV0ylfSLusct7irJUqrHlP/sJgVl9Z5jrNIcSxiCVIEKGggiJKsBGlVSfFQpL2Yx7+wYZfIpdCriIYORZQhga54Qf/g9/dWrmJcTcpGAM6XxznYxgI7AL1quN8HztO/QTwPwNXestfrgHTn6RXW1rkCAhtAxfXLU3ZAy53gIEnQzblhuSnKeRywPsZfVMG6L8Fetbc3pr7OH0AUtRV4gY4OARG8pS97vHurvbe/j3T7O8HgdNyrZtfF2UAAAAJcEhZcwAALiMAAC4jAXilP3YAAAAHdElNRQfkCRMLOjrhTYEeAAAAGXRFWHRDb21tZW50AENyZWF0ZWQgd2l0aCBHSU1QV4EOFwAAAQBJREFUeNrt3SEOgCAYgFFgbgY3z+P9k+dxM1jQZDErCr6XjCDfGO0PAaAWsU9pb2EjW87RcX5H8gt4Qnd+DNNS5QbWeXSKbiyEBcJCWAgLhIWwEBYIC2EhLBAWwkJYICyEhbBAWAgLYYGwEBbCAmEhLIQFwkJYCAuEhbAQFggLYSEsEBbCQlggLISFsEBYCAthgbAoo5l5hbzrOi/SjcUjmplXaP3vrt8bC493hAXCQlgIC4SFsBAWCAthISwQFsJCWCAshIWwEBYIC2EhLBAWwkJYICyEhbBAWAgLYYGwEBbCAmEhLIQFwkJYCAuEhbAQFggLYfEL5hVyC/MKKeIAeMoYxl77nVwAAAAASUVORK5CYII="},37:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJYAAABkCAYAAABkW8nwAAABhWlDQ1BJQ0MgcHJvZmlsZQAAKJF9kT1Iw0AcxV9TpX5UOthBxCFDdbIgKiJOWoUiVAi1QqsOJpd+QZOGJMXFUXAtOPixWHVwcdbVwVUQBD9AnBydFF2kxP81hRYxHhz34929x907QKiVmGZ1jAGabpvJeExMZ1bFwCu60Y9ehDAjM8uYk6QEPMfXPXx8vYvyLO9zf44+NWsxwCcSzzLDtIk3iKc2bYPzPnGYFWSV+Jx41KQLEj9yXXH5jXO+wQLPDJup5DxxmFjMt7HSxqxgasSTxBFV0ylfSLusct7irJUqrHlP/sJgVl9Z5jrNIcSxiCVIEKGggiJKsBGlVSfFQpL2Yx7+wYZfIpdCriIYORZQhga54Qf/g9/dWrmJcTcpGAM6XxznYxgI7AL1quN8HztO/QTwPwNXestfrgHTn6RXW1rkCAhtAxfXLU3ZAy53gIEnQzblhuSnKeRywPsZfVMG6L8Fetbc3pr7OH0AUtRV4gY4OARG8pS97vHurvbe/j3T7O8HgdNyrZtfF2UAAAAJcEhZcwAALiMAAC4jAXilP3YAAAAHdElNRQfkCRMMAClFFQg8AAAAGXRFWHRDb21tZW50AENyZWF0ZWQgd2l0aCBHSU1QV4EOFwAAAPtJREFUeNrt3cEJgDAMQNEaBK+Cy3YElxXcQAcQj2IT3pug1k96TGsAWUyuYCxLxFXhO8Kv5AuzKxjTsa8pz73108TCU4iwQFgIC2EhLFeAsBAWwgJhISyEBcJCWAgLhIWwEBYIC2EhLBAWwkJYICyEhbBAWAgLYYGwEBbCAmEhLIQFwkJYCAuEhbAQFggLYVHXY19hlX15mFgU9LqvMPu+POf/9/wmFp5ChIWwQFgIC2GBsBAWwgJhISyEBcJCWAgLhIWwEBYIC2EhLBAWwkJYICyEhbBAWAgLYYGwEBbCAmEhLIQFwkJYCAuEhbAQFggLYVGSfYWYWORxA1VID+QIoBrtAAAAAElFTkSuQmCC"},38:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAYAAABw4pVUAAABhWlDQ1BJQ0MgcHJvZmlsZQAAKJF9kT1Iw0AcxV9TpX5UOthBxCFDdbIgKiJOWoUiVAi1QqsOJpd+QZOGJMXFUXAtOPixWHVwcdbVwVUQBD9AnBydFF2kxP81hRYxHhz34929x907QKiVmGZ1jAGabpvJeExMZ1bFwCu60Y9ehDAjM8uYk6QEPMfXPXx8vYvyLO9zf44+NWsxwCcSzzLDtIk3iKc2bYPzPnGYFWSV+Jx41KQLEj9yXXH5jXO+wQLPDJup5DxxmFjMt7HSxqxgasSTxBFV0ylfSLusct7irJUqrHlP/sJgVl9Z5jrNIcSxiCVIEKGggiJKsBGlVSfFQpL2Yx7+wYZfIpdCriIYORZQhga54Qf/g9/dWrmJcTcpGAM6XxznYxgI7AL1quN8HztO/QTwPwNXestfrgHTn6RXW1rkCAhtAxfXLU3ZAy53gIEnQzblhuSnKeRywPsZfVMG6L8Fetbc3pr7OH0AUtRV4gY4OARG8pS97vHurvbe/j3T7O8HgdNyrZtfF2UAAAAJcEhZcwAALiMAAC4jAXilP3YAAAAHdElNRQfkCRMMBw6vXiuQAAAAGXRFWHRDb21tZW50AENyZWF0ZWQgd2l0aCBHSU1QV4EOFwAAANlJREFUeNrt3CEOgDAMQNGykGBJUNz/cCgSLGagJrFQ4H2F3PpC5hoh6bpuKOUwhufba+0iIopR5KpvH+syvvIC07x94vwtf0iygAARECACAkRAgAgIEAERECACAkRAgAgIEAERECACAkRAgAgIEAERECACAkRAgAgIEAERECACAkRAgOiO7MtKkn1ZSbMvK8n5vSEedQEBIiBABASIgAgIEAEBIiBABASIgAgIEAEBIiBABASIgAAxAiACAkRAgAgIEAEBIiACAkRAgAgIEAH5cfZlJcm+rKSdsigYxqFdL/gAAAAASUVORK5CYII="},39:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJYAAABkCAYAAABkW8nwAAABhWlDQ1BJQ0MgcHJvZmlsZQAAKJF9kT1Iw0AcxV9TpX5UOthBxCFDdbIgKiJOWoUiVAi1QqsOJpd+QZOGJMXFUXAtOPixWHVwcdbVwVUQBD9AnBydFF2kxP81hRYxHhz34929x907QKiVmGZ1jAGabpvJeExMZ1bFwCu60Y9ehDAjM8uYk6QEPMfXPXx8vYvyLO9zf44+NWsxwCcSzzLDtIk3iKc2bYPzPnGYFWSV+Jx41KQLEj9yXXH5jXO+wQLPDJup5DxxmFjMt7HSxqxgasSTxBFV0ylfSLusct7irJUqrHlP/sJgVl9Z5jrNIcSxiCVIEKGggiJKsBGlVSfFQpL2Yx7+wYZfIpdCriIYORZQhga54Qf/g9/dWrmJcTcpGAM6XxznYxgI7AL1quN8HztO/QTwPwNXestfrgHTn6RXW1rkCAhtAxfXLU3ZAy53gIEnQzblhuSnKeRywPsZfVMG6L8Fetbc3pr7OH0AUtRV4gY4OARG8pS97vHurvbe/j3T7O8HgdNyrZtfF2UAAAAJcEhZcwAALiMAAC4jAXilP3YAAAAHdElNRQfkCRMLNSXr3ZAkAAAAGXRFWHRDb21tZW50AENyZWF0ZWQgd2l0aCBHSU1QV4EOFwAAAQVJREFUeNrt3TEOQDAUgOFqJDZxAPc/mQOIzYJNopMB1eb7TvDKr7G9EABK0ZR+gC7G3WvMb922S0vRI+ENbS0HGZehyLmnfq5i/pQbi1cIC2EhLIQFwkJYCAuEhbAQFggLYSEsEBbCQlggLISFsEBYCAthgbAQFsICYSEshAXCQlgIC4SFsBAWCAthISwQFsJCWCAshIWwQFjk1tj3xxPsK+QT575C+/7yzp9+8f6xQFgIC2GBsBAWwgJhISyEBcJCWAgLhIWwEBYIC2EhLBAWwkJYCAuEhbAQFggLYSEsEBbCQlggLISFsEBYCAthgbAQFsICYSEshAXC4ofsK/wJ27/ghgNH8Ru8WoxcDgAAAABJRU5ErkJggg=="},40:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJYAAABkCAYAAABkW8nwAAABhWlDQ1BJQ0MgcHJvZmlsZQAAKJF9kT1Iw0AcxV9TpX5UOthBxCFDdbIgKiJOWoUiVAi1QqsOJpd+QZOGJMXFUXAtOPixWHVwcdbVwVUQBD9AnBydFF2kxP81hRYxHhz34929x907QKiVmGZ1jAGabpvJeExMZ1bFwCu60Y9ehDAjM8uYk6QEPMfXPXx8vYvyLO9zf44+NWsxwCcSzzLDtIk3iKc2bYPzPnGYFWSV+Jx41KQLEj9yXXH5jXO+wQLPDJup5DxxmFjMt7HSxqxgasSTxBFV0ylfSLusct7irJUqrHlP/sJgVl9Z5jrNIcSxiCVIEKGggiJKsBGlVSfFQpL2Yx7+wYZfIpdCriIYORZQhga54Qf/g9/dWrmJcTcpGAM6XxznYxgI7AL1quN8HztO/QTwPwNXestfrgHTn6RXW1rkCAhtAxfXLU3ZAy53gIEnQzblhuSnKeRywPsZfVMG6L8Fetbc3pr7OH0AUtRV4gY4OARG8pS97vHurvbe/j3T7O8HgdNyrZtfF2UAAAAJcEhZcwAALiMAAC4jAXilP3YAAAAHdElNRQfkCRMMBAxqfRl/AAAAGXRFWHRDb21tZW50AENyZWF0ZWQgd2l0aCBHSU1QV4EOFwAAAQdJREFUeNrt3TsKgDAQQMEkCLaCp/H+hacRbG2inYW1H7LOnGCDz5BuUwJoRW79AH0pe4QPsdWaI4VV/Fs8oYtykGWYm5x7XKeQYbmxEBbCQlggLISFsEBYCAthgbAQFsICYSEshAXCQlgIC4SFsBAWCAthISwQFsJCWCAshIWwQFgIC2GBsBAWwgJhISyEBcJCWAgLhIWwCClH2ffHt677Ft1YPOLcV9j6vj/zfzu/NxYe7wgLhIWwEBYIC2EhLBAWwkJYICyEhbBAWAgLYSEsEBbCQlggLISFsEBYCAthgbAQFsICYSEshAXCQlgIC4SFsBAWCAthISwQFsLiF+wr5Bb2FfKKA9OuGMaKfzqCAAAAAElFTkSuQmCC"},41:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJYAAABkCAYAAABkW8nwAAABhWlDQ1BJQ0MgcHJvZmlsZQAAKJF9kT1Iw0AcxV9TpX5UOthBxCFDdbIgKiJOWoUiVAi1QqsOJpd+QZOGJMXFUXAtOPixWHVwcdbVwVUQBD9AnBydFF2kxP81hRYxHhz34929x907QKiVmGZ1jAGabpvJeExMZ1bFwCu60Y9ehDAjM8uYk6QEPMfXPXx8vYvyLO9zf44+NWsxwCcSzzLDtIk3iKc2bYPzPnGYFWSV+Jx41KQLEj9yXXH5jXO+wQLPDJup5DxxmFjMt7HSxqxgasSTxBFV0ylfSLusct7irJUqrHlP/sJgVl9Z5jrNIcSxiCVIEKGggiJKsBGlVSfFQpL2Yx7+wYZfIpdCriIYORZQhga54Qf/g9/dWrmJcTcpGAM6XxznYxgI7AL1quN8HztO/QTwPwNXestfrgHTn6RXW1rkCAhtAxfXLU3ZAy53gIEnQzblhuSnKeRywPsZfVMG6L8Fetbc3pr7OH0AUtRV4gY4OARG8pS97vHurvbe/j3T7O8HgdNyrZtfF2UAAAAJcEhZcwAALiMAAC4jAXilP3YAAAAHdElNRQfkCRMLMy2zXL+QAAAAGXRFWHRDb21tZW50AENyZWF0ZWQgd2l0aCBHSU1QV4EOFwAAAQNJREFUeNrt3bEJgDAQQFETBFvBGdx/IGcQbG2ilYXWSsj5XmWZ4OdId2nI+eiobi8lRbpP9kv5Qn99rOPc5AWmbQlx/mhMLISFsBAWCAthISwQFsJCWCAshIWwQFgIC2GBsBAWwgJhISyEBcJCWAgLhIWwEBYIC2EhLBAWwkJYICyEhbBAWAgLYYGwEBbCAmEhLEJK9hXyhue+RROLbyZW6xe4Jq59i3XPb2Lh8Y6wQFgIC2GBsBAWwgJhISyEBcJCWAgLhIWwEBbCAmEhLIQFwkJYCAuEhbAQFggLYSEsEBbCQlggLISFsEBYCAthgbAQFsICYSEsfiHM9i/qsv0LAG5OKaAcwx50cBcAAAAASUVORK5CYII="},43:function(t,e,r){t.exports=r(56)},48:function(t,e,r){},56:function(t,e,r){"use strict";r.r(e);var n=r(0),o=r.n(n),a=r(18),i=r.n(a),s=(r(48),r(3)),c=(r(26),r(2));r(17);var A=Object(c.b)((function(t){return{score:t.score,lines:t.lines}}),null)((function(t){return o.a.createElement("div",{className:"ScoreBoard"},o.a.createElement("p",null,"SCORE"),o.a.createElement("p",null,t.score),o.a.createElement("p",null,"LINES"),o.a.createElement("p",null,t.lines))})),u=function(t){var e=t.children,r=t.onClick,n=t.className,a=t.onMouseDown,i=t.onMouseUp;return o.a.createElement("button",{className:n,onClick:r,onMouseDown:a,onMouseUp:i},e)},l=r(28),m=r.n(l),f=r(29),g=r.n(f);var h=Object(c.b)(null,(function(t){return{stop:function(){return t({type:"STOP_GAME"})},start:function(){return t({type:"START_GAME"})},dispatch:t}}))((function(t){return o.a.createElement("div",{className:"ControlButtonColumn"},o.a.createElement(u,{className:"Button ControlButton",onClick:function(){return t.start()}},o.a.createElement(m.a,{className:"svg_icons"})),o.a.createElement(u,{className:"Button ControlButton",onClick:function(){return t.stop()}},o.a.createElement(g.a,{className:"svg_icons"})),o.a.createElement(A,null))})),p=r(8),y=r(16),d=r(7),E=r(22),w=r(21),x=[{name:"t",color:"purple",shape:[[0,1,0],[1,1,1],[0,0,0]]},{name:"o",color:"yellow",shape:[[0,1,1,0],[0,1,1,0],[0,0,0,0],[0,0,0,0]]},{name:"j",color:"blue",shape:[[1,0,0],[1,1,1],[0,0,0]]},{name:"i",color:"cyan",shape:[[0,0,0,0],[1,1,1,1],[0,0,0,0],[0,0,0,0]]},{name:"l",color:"orange",shape:[[0,0,1],[1,1,1],[0,0,0]]},{name:"z",color:"red",shape:[[1,1,0],[0,1,1],[0,0,0]]},{name:"s",color:"green",shape:[[0,1,1],[1,1,0],[0,0,0]]}];function C(t,e){var r,n,o=0,a=0;this.stop=function(){o=0,a=0,window.clearInterval(r)},this.pause=function(){1===a&&(o=e-(new Date-n),window.clearInterval(r),a=2)},this.resume=function(){2===a&&(a=3,window.setTimeout(this.timeoutCallback,o))},this.timeoutCallback=function(){3===a&&(t(),n=new Date,r=window.setInterval(t,e),a=1)},n=new Date,r=window.setInterval(t,e),a=1}var O=[{transition:"O->R",set:{1:{x:0,y:0},2:{x:-2,y:0},3:{x:1,y:0},4:{x:-2,y:-1},5:{x:1,y:2}}},{transition:"R->O",set:{1:{x:0,y:0},2:{x:2,y:0},3:{x:-1,y:0},4:{x:2,y:1},5:{x:-1,y:-2}}},{transition:"R->2",set:{1:{x:0,y:0},2:{x:-1,y:0},3:{x:2,y:0},4:{x:-1,y:2},5:{x:2,y:-1}}},{transition:"2->R",set:{1:{x:0,y:0},2:{x:1,y:0},3:{x:-2,y:0},4:{x:1,y:-2},5:{x:-2,y:1}}},{transition:"2->L",set:{1:{x:0,y:0},2:{x:2,y:0},3:{x:-1,y:0},4:{x:2,y:1},5:{x:-1,y:-2}}},{transition:"L->2",set:{1:{x:0,y:0},2:{x:-2,y:0},3:{x:1,y:0},4:{x:-2,y:-1},5:{x:1,y:2}}},{transition:"L->O",set:{1:{x:0,y:0},2:{x:1,y:0},3:{x:-2,y:0},4:{x:1,y:-2},5:{x:-2,y:1}}},{transition:"O->L",set:{1:{x:0,y:0},2:{x:-1,y:0},3:{x:2,y:0},4:{x:-1,y:2},5:{x:2,y:-1}}}],v=[{transition:"O->R",set:{1:{x:0,y:0},2:{x:-1,y:0},3:{x:-1,y:1},4:{x:0,y:-2},5:{x:-1,y:-2}}},{transition:"R->O",set:{1:{x:0,y:0},2:{x:1,y:0},3:{x:1,y:-1},4:{x:0,y:2},5:{x:1,y:2}}},{transition:"R->2",set:{1:{x:0,y:0},2:{x:1,y:0},3:{x:1,y:-1},4:{x:0,y:2},5:{x:1,y:2}}},{transition:"2->R",set:{1:{x:0,y:0},2:{x:-1,y:0},3:{x:-1,y:1},4:{x:0,y:-2},5:{x:-1,y:-2}}},{transition:"2->L",set:{1:{x:0,y:0},2:{x:1,y:0},3:{x:1,y:1},4:{x:0,y:-2},5:{x:1,y:-2}}},{transition:"L->2",set:{1:{x:0,y:0},2:{x:-1,y:0},3:{x:-1,y:-1},4:{x:0,y:2},5:{x:-1,y:2}}},{transition:"L->O",set:{1:{x:0,y:0},2:{x:-1,y:0},3:{x:-1,y:-1},4:{x:0,y:2},5:{x:-1,y:2}}},{transition:"O->L",set:{1:{x:0,y:0},2:{x:1,y:0},3:{x:1,y:1},4:{x:0,y:-2},5:{x:1,y:-2}}}],B=function(t){Object(E.a)(r,t);var e=Object(w.a)(r);function r(t){var n;return Object(y.a)(this,r),(n=e.call(this,t)).state={key:"",score:0,linesCompleted:0,firstRowOccupied:!1,secondRowOccupied:!1,firstRowOccupiedI:!1,secondRowOccupiedI:!1,firstRowOccupiedO:!1,secondRowOccupiedO:!1,gameInProgress:!1,stopGame:!1,startGame:!1,tetrominoType:""},n.startGame=function(){var t=n.canvasRef.current.getContext("2d");t.clearRect(0,74,372,814),t.fillStyle="#908cb7",t.fillRect(0,0,372,74),n.createCoordinateArray(),n.fillGameBoardArray(),n.drawGameBoard()},n.spawnNewTetromino=function(){n.tetrominoActive=!0,n.curTetromino=function(t){for(var e=0;e<x.length;e++)if(x[e].name===t)return JSON.parse(JSON.stringify(x[e].shape))}(n.props.tetrominoType),n.curTetrominoColor=function(t){for(var e=0;e<x.length;e++)if(x[e].name===t)return x[e].color}(n.props.tetrominoType),n.gameInterval=new C(n.dropDown,500),n.startX=3,n.setSpawnPositionY(n.props.tetrominoType),n.drawTetromino()},n.setSpawnPositionY=function(t){switch(t){case"i":n.state.firstRowOccupiedI?n.startY=0:n.state.secondRowOccupiedI?n.startY=1:n.startY=2;break;case"o":n.state.firstRowOccupiedO?n.startY=0:n.state.secondRowOccupiedO?n.startY=1:n.startY=2;break;default:n.state.firstRowOccupied?n.startY=0:n.state.secondRowOccupied?n.startY=1:n.startY=2}},n.tetrominoPlayed=function(){clearInterval(n.updateInterval),"undefined"!==typeof n.gameInterval&&n.gameInterval.stop(),n.setState((function(t){return{tetrominoType:""}})),n.tetrominoActive=!1},n.unsetOccupiedRows=function(){n.setState((function(t){return{firstRowOccupied:!1,secondRowOccupied:!1,firstRowOccupiedI:!1,secondRowOccupiedI:!1,firstRowOccupiedO:!1,secondRowOccupiedO:!1}}))},n.setOccupiedRows=function(t,e){2!==e||3!==t&&4!==t&&5!==t||n.setState((function(t){return{firstRowOccupied:!0}})),3!==e||3!==t&&4!==t&&5!==t||n.setState((function(t){return{secondRowOccupied:!0}})),2!==e||3!==t&&4!==t&&5!==t&&6!==t||n.setState((function(t){return{firstRowOccupiedI:!0}})),3!==e||3!==t&&4!==t&&5!==t&&6!==t||n.setState((function(t){return{secondRowOccupiedI:!0}})),2!==e||4!==t&&5!==t||n.setState((function(t){return{firstRowOccupiedO:!0}})),3!==e||4!==t&&5!==t||n.setState((function(t){return{secondRowOccupiedO:!0}}))},n.dropDown=function(){for(var t=0;t<n.curTetromino.length;t++)for(var e=0;e<n.curTetromino.length;e++)if(1===n.curTetromino[t][e]){var r=e+n.startX,o=t+n.startY;if(21===o||1===n.gameBoardArray[r][o+1].occupied){for(var a=0;a<n.curTetromino.length;a++)for(var i=0;i<n.curTetromino.length;i++)if(1===n.curTetromino[a][i]){var s=i+n.startX,c=a+n.startY;n.gameBoardArray[s][c].occupied=1,n.gameBoardArray[s][c].color=n.curTetrominoColor,n.setOccupiedRows(s,c),0!==c&&1!==c||(n.setState((function(t){return{gameInProgress:!1}})),n.gameOver())}var A=n.checkForCompletedLines(n.getCurrentGameBoard());return A.length>0&&(n.updateScores(A.length),n.drawGameBoard(A)),void n.tetrominoPlayed()}}n.deleteTetromino(),n.startY++,n.drawTetromino()},n.handleMove=function(t){switch(t){case"left":n.inBoundaries("left")&&!n.leftCollision()&&(n.deleteTetromino(),n.startX--,n.drawTetromino());break;case"right":n.inBoundaries("right")&&!n.rightCollision()&&(n.deleteTetromino(),n.startX++,n.drawTetromino());break;case"down":n.inBoundaries("down")&&!n.downCollision()&&(n.deleteTetromino(),n.startY++,n.drawTetromino(),n.props.update({score:n.state.score,lines:n.state.linesCompleted}))}},n.handleRotation=function(t){var e=n.nextStateRotationRight();n.performRotation(e,t)},n.drawGameOverScreen=function(){var t=n.canvasRef.current,e=t.getContext("2d");e.clearRect(0,74,372,814),e.font="25px Arial",e.fillStyle="aliceblue",e.textAlign="center";for(var r="-- Game Over --\n\nScore: ".concat(n.state.score,"\nCompleted Lines: ").concat(n.state.linesCompleted).split("\n"),o=0;o<r.length;o++)e.fillText(r[o],t.width/2,t.height/2+30*o)},n.nextStateRotationRight=function(){switch(n.rotationState){case"O":return"R";case"R":return"2";case"L":return"O";case"2":return"L";default:return"O"}},n.performRotation=function(t,e){if("yellow"!==n.curTetrominoColor){n.gameInterval.pause(),n.deleteTetromino();var r,o=JSON.parse(JSON.stringify(n.curTetromino)),a="".concat(n.rotationState,"->").concat(t);r="cyan"===n.curTetrominoColor?function(t){for(var e=0;e<O.length;e++)if(O[e].transition===t)return console.log("Set found: "+O[e]),O[e].set}(a):function(t){for(var e=0;e<v.length;e++)if(v[e].transition===t)return v[e].set}(a),"left"===e&&n.curTetromino.forEach((function(t){return t.reverse()}));for(var i=0;i<n.curTetromino.length;i++)for(var s=0;s<i;s++){var c=[n.curTetromino[s][i],n.curTetromino[i][s]];n.curTetromino[i][s]=c[0],n.curTetromino[s][i]=c[1]}"right"===e&&n.curTetromino.forEach((function(t){return t.reverse()}));for(var A=!1,u=1;u<=5;u++){var l=r[u].x,m=r[u].y;if(n.rotationPossible(l,m)){n.startX+=l,n.startY+=m,A=!0;break}}A?n.rotationState=t:n.curTetromino=o,n.drawTetromino(),n.gameInterval.resume()}},n.rotationPossible=function(t,e){for(var r=0;r<n.curTetromino.length;r++)for(var o=0;o<n.curTetromino.length;o++)if(1===n.curTetromino[r][o]){var a=o+n.startX+t,i=r+n.startY+e;if(a<0||a>9||i>21)return!1;if(1===n.gameBoardArray[a][i].occupied)return!1}return!0},n.canvasRef=o.a.createRef(),n.startX=3,n.startY=0,n.numberOfRows=10,n.numberOfColumns=22,n.coordinateArray=Object(p.a)(Array(n.numberOfRows)).map((function(t){return Array(n.numberOfColumns)})),n.gameBoardArray=Object(p.a)(Array(n.numberOfRows)).map((function(t){return Array(n.numberOfColumns)})),n.tetrominoActive=!1,n.rotationState="O",n}return Object(d.a)(r,[{key:"componentDidMount",value:function(){var t=this.canvasRef.current,e=t.getContext("2d");e.fillStyle="#908cb7",e.fillRect(0,0,372,74),e.font="25px Arial",e.fillStyle="aliceblue",e.textAlign="center",e.fillText("-- Choose a Tetromino --",t.width/2,t.height/2)}},{key:"componentDidUpdate",value:function(){var t=this;this.props.stopGame&&this.state.gameInProgress&&(this.setState((function(t){return{gameInProgress:!1}})),this.tetrominoPlayed(),this.gameOver()),this.props.startGame&&(this.state.gameInProgress||(this.startGame(),this.setState((function(t){return{gameInProgress:!0,score:0,linesCompleted:0}})))),this.props.tetrominoType&&this.state.gameInProgress&&(this.tetrominoActive||(this.setState((function(e){return{tetrominoType:t.props.tetrominoType}})),this.spawnNewTetromino())),this.props.rotateDirection&&this.tetrominoActive&&this.handleRotation(this.props.rotateDirection),this.props.moveDirection&&this.tetrominoActive&&this.handleMove(this.props.moveDirection)}},{key:"componentWillUnmount",value:function(){this.state.gameInProgress&&(this.setState((function(){return{gameInProgress:!1}})),this.tetrominoPlayed(),this.gameOver())}},{key:"gameOver",value:function(){clearInterval(this.updateInterval),"undefined"!==typeof this.gameInterval&&this.gameInterval.stop(),this.unsetOccupiedRows(),this.drawGameOverScreen(),this.props.gameOver()}},{key:"updateScores",value:function(t){var e=this.state.linesCompleted,r=this.state.score;switch(e+=t,t){case 1:r+=100;break;case 2:r+=300;break;case 3:r+=500;break;case 4:r+=800}this.setState((function(t){return{linesCompleted:e,score:r}})),this.props.update({score:this.state.score,lines:this.state.linesCompleted})}},{key:"checkForCompletedLines",value:function(t){for(var e=[],r=0;r<this.numberOfColumns;r++)for(var n=0;n<this.numberOfRows&&1===t[n][r];n++)9===n&&e.push(r);return e}},{key:"createCoordinateArray",value:function(){for(var t=0,e=0,r=2;r<=810;r+=37){for(var n=2;n<=370;n+=37)this.coordinateArray[t][e]=new R(n,r),t++;e++,t=0}}},{key:"fillGameBoardArray",value:function(){for(var t=0;t<this.numberOfRows;t++)for(var e=0;e<this.numberOfColumns;e++)this.gameBoardArray[t][e]={occupied:0,color:""}}},{key:"getCurrentGameBoard",value:function(){for(var t=this,e=Object(p.a)(Array(this.numberOfRows)).map((function(e){return Array(t.numberOfColumns)})),r=0;r<this.numberOfRows;r++)for(var n=0;n<this.numberOfColumns;n++)e[r][n]=0;for(var o=0;o<this.numberOfRows;o++)for(var a=0;a<this.numberOfColumns;a++)1===this.gameBoardArray[o][a].occupied&&(e[o][a]=1);if(!this.tetrominoActive)return e;for(var i=0;i<this.curTetromino.length;i++)for(var s=0;s<this.curTetromino.length;s++)if(1===this.curTetromino[i][s]){var c=s+this.startX,A=i+this.startY;e[c][A]=1}return e}},{key:"drawTetromino",value:function(){for(var t=this.canvasRef.current.getContext("2d"),e=0;e<this.curTetromino.length;e++)for(var r=0;r<this.curTetromino.length;r++)if(1===this.curTetromino[e][r]){var n=r+this.startX,o=e+this.startY,a=this.coordinateArray[n][o].x,i=this.coordinateArray[n][o].y;i>74&&(t.fillStyle=this.curTetrominoColor,t.fillRect(a,i,35,35))}}},{key:"deleteTetromino",value:function(){for(var t=this.canvasRef.current.getContext("2d"),e=0;e<this.curTetromino.length;e++)for(var r=0;r<this.curTetromino.length;r++)if(1===this.curTetromino[e][r]){var n=r+this.startX,o=e+this.startY,a=this.coordinateArray[n][o].x,i=this.coordinateArray[n][o].y;i>74&&(t.fillStyle="#555555",t.fillRect(a,i,35,35))}}},{key:"drawGameBoard",value:function(t){if("undefined"!==typeof t){var e=[];for(e=this.gameBoardArray;t.length>0;)for(var r=t.shift(),n=0;n<this.numberOfRows;n++){var o=e[n],a=o.slice(0,r),i=o.slice(r+1),s=a.concat(i);s.unshift({occupied:0,color:""}),e[n]=s}this.gameBoardArray=e,this.unsetOccupiedRows()}var c=this.canvasRef.current.getContext("2d");c.clearRect(0,74,372,814);for(var A=0;A<this.numberOfRows;A++)for(var u=0;u<this.numberOfColumns;u++)if(1===this.gameBoardArray[A][u].occupied){this.setOccupiedRows(A,u);var l=this.coordinateArray[A][u].x,m=this.coordinateArray[A][u].y;c.fillStyle=this.gameBoardArray[A][u].color,c.fillRect(l,m,35,35)}}},{key:"inBoundaries",value:function(t){for(var e=0;e<this.curTetromino.length;e++)for(var r=0;r<this.curTetromino.length;r++)if(1===this.curTetromino[e][r]){var n=r+this.startX,o=e+this.startY;if(n<=0&&"left"===t||n>=9&&"right"===t||o>=21&&"down"===t)return!1}return!0}},{key:"leftCollision",value:function(){for(var t=0;t<this.curTetromino.length;t++)for(var e=0;e<this.curTetromino.length;e++)if(1===this.curTetromino[t][e]){var r=e+this.startX,n=t+this.startY;if(r>1&&1===this.gameBoardArray[r-1][n].occupied)return!0}return!1}},{key:"rightCollision",value:function(){for(var t=0;t<this.curTetromino.length;t++)for(var e=0;e<this.curTetromino.length;e++)if(1===this.curTetromino[t][e]){var r=e+this.startX,n=t+this.startY;if(r<9&&1===this.gameBoardArray[r+1][n].occupied)return!0}return!1}},{key:"downCollision",value:function(){for(var t=0;t<this.curTetromino.length;t++)for(var e=0;e<this.curTetromino.length;e++)if(1===this.curTetromino[t][e]){var r=e+this.startX,n=t+this.startY;if(1===this.gameBoardArray[r][n+1].occupied)return!0}return!1}},{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement("canvas",{id:"canvas",style:I,width:"372",height:"814",ref:this.canvasRef}))}}]),r}(o.a.Component);var R=function t(e,r){Object(y.a)(this,t),this.x=e,this.y=r},I={border:"none",outline:"none",backgroundColor:"#555555",borderRadius:"5px"},Q=Object(c.b)((function(t){return{stopGame:t.stopGame,startGame:t.startGame,tetrominoType:t.tetrominoType,rotateDirection:t.rotateDirection,moveDirection:t.moveDirection}}),(function(t){return{update:function(e){return t({type:"UPDATE_SCOREBOARD",payload:{score:(r=e).score,lines:r.lines}});var r},gameOver:function(){return t({type:"STOP_GAME"})},dispatch:t}}))(B),b=function(t){Object(E.a)(r,t);var e=Object(w.a)(r);function r(t){var n;return Object(y.a)(this,r),(n=e.call(this,t)).canvasRef=o.a.createRef(),n}return Object(d.a)(r,[{key:"componentDidMount",value:function(){var t=this.canvasRef.current.getContext("2d");t.fillStyle="#908cb7",t.fillRect(0,0,372,74)}},{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement("canvas",{id:"canvas",style:Y,width:"372",height:"814",ref:this.canvasRef}))}}]),r}(o.a.Component);var Y={border:"none",outline:"none",backgroundColor:"#555555",borderRadius:"5px"},S=Object(c.b)((function(t){return{}}),(function(t){return{}}))(b);var F=Object(c.b)((function(t){return{simpleGame:t.simpleGame,aiGame:t.aiGame,tetrisGame:t.tetrisGame,showDummy:t.showDummy}}),null)((function(t){var e=o.a.createRef();return o.a.createElement("div",{className:"GameBoard"},t.showDummy&&o.a.createElement(S,null),t.tetrisGame&&o.a.createElement(Q,{canvas:e}))})),T=r(30),J=r.n(T),G=r(31),W=r.n(G),L=r(32),k=r.n(L),M=r(33),X=r.n(M),N=r(34),V=r.n(N);var U=Object(c.b)(null,(function(t){return{rotate:function(e){return t({type:"ROTATE_TETROMINO",payload:{type:e.type}})},move:function(e){return t({type:"MOVE_TETROMINO",payload:{type:e.type}})},dispatch:t}}))((function(t){return o.a.createElement("div",{className:"GameplayButtonsContainer"},o.a.createElement("div",{className:"RotationButtons"},o.a.createElement(u,{className:"Button GameplayButton",onMouseDown:function(){return t.rotate({type:"right"})},onMouseUp:function(){return t.rotate({type:""})}},o.a.createElement(J.a,{className:"svg_icons"})),o.a.createElement(u,{className:"Button GameplayButton",onMouseDown:function(){return t.rotate({type:"left"})},onMouseUp:function(){return t.rotate({type:""})}},o.a.createElement(W.a,{className:"svg_icons"}))),o.a.createElement("div",{className:"DirectionButtons"},o.a.createElement(u,{className:"Button GameplayButton",onMouseDown:function(){return t.move({type:"left"})},onMouseUp:function(){return t.move({type:""})}},o.a.createElement(k.a,{className:"svg_icons"})),o.a.createElement(u,{className:"Button GameplayButton",onMouseDown:function(){return t.move({type:"down"})},onMouseUp:function(){return t.move({type:""})}},o.a.createElement(X.a,{className:"svg_icons"})),o.a.createElement(u,{className:"Button GameplayButton",onMouseDown:function(){return t.move({type:"right"})},onMouseUp:function(){return t.move({type:""})}},o.a.createElement(V.a,{className:"svg_icons"}))))})),Z=r(35),P=r.n(Z),D=r(36),H=r.n(D),j=r(37),K=r.n(j),z=r(38),q=r.n(z),_=r(39),$=r.n(_),tt=r(40),et=r.n(tt),rt=r(41),nt=r.n(rt);var ot=Object(c.b)(null,(function(t){return{click:function(e){return t({type:"SPAWN_TETROMINO",payload:{type:e.type}})},dispatch:t}}))((function(t){return o.a.createElement("div",{className:"TetrominoButtonsContainer"},o.a.createElement("div",{className:"TetrominoColumn"},o.a.createElement(u,{className:"Button TetrominoButton",onMouseDown:function(){return t.click({type:"i"})},onMouseUp:function(){return t.click({type:""})}},o.a.createElement("img",{alt:"i",src:P.a,width:"130"})),o.a.createElement(u,{className:"Button TetrominoButton",onMouseDown:function(){return t.click({type:"t"})},onMouseUp:function(){return t.click({type:""})}},o.a.createElement("img",{alt:"t",src:et.a,width:"100"})),o.a.createElement(u,{className:"Button TetrominoButton",onMouseDown:function(){return t.click({type:"j"})},onMouseUp:function(){return t.click({type:""})}},o.a.createElement("img",{alt:"j",src:H.a,width:"100"})),o.a.createElement(u,{className:"Button TetrominoButton",onMouseDown:function(){return t.click({type:"o"})},onMouseUp:function(){return t.click({type:""})}},o.a.createElement("img",{alt:"o",src:q.a,width:"70"}))),o.a.createElement("div",{className:"TetrominoColumn"},o.a.createElement(u,{className:"Button TetrominoButton",onMouseDown:function(){return t.click({type:"z"})},onMouseUp:function(){return t.click({type:""})}},o.a.createElement("img",{alt:"z",src:nt.a,width:"100"})),o.a.createElement(u,{className:"Button TetrominoButton",onMouseDown:function(){return t.click({type:"s"})},onMouseUp:function(){return t.click({type:""})}},o.a.createElement("img",{alt:"s",src:$.a,width:"100"})),o.a.createElement(u,{className:"Button TetrominoButton",onMouseDown:function(){return t.click({type:"l"})},onMouseUp:function(){return t.click({type:""})}},o.a.createElement("img",{alt:"l",src:K.a,width:"100"}))))}));var at=function(){return o.a.createElement("div",{className:"GameplayContainer"},o.a.createElement(ot,null),o.a.createElement(U,null))},it=r(19),st={score:0,lines:0,stopGame:!1,startGame:!1,tetrominoType:"",rotateDirection:"",moveDirection:"",aiGame:!1,showDummy:!0,tetrisGame:!1},ct=Object(it.b)((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:st,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"UPDATE_SCOREBOARD":var r=e.payload.score,n=e.payload.lines;return Object(s.a)(Object(s.a)({},t),{},{score:r,lines:n});case"START_GAME":return Object(s.a)(Object(s.a)({},t),{},{startGame:!0,stopGame:!1,tetrominoType:"",tetrisGame:!0,aiGame:!1,showDummy:!1,simpleGame:!1});case"STOP_GAME":return Object(s.a)(Object(s.a)({},t),{},{startGame:!1,stopGame:!0,score:0,lines:0});case"SPAWN_TETROMINO":var o=e.payload.type;return Object(s.a)(Object(s.a)({},t),{},{tetrominoType:o});case"ROTATE_TETROMINO":var a=e.payload.type;return Object(s.a)(Object(s.a)({},t),{},{rotateDirection:a});case"MOVE_TETROMINO":var i=e.payload.type;return Object(s.a)(Object(s.a)({},t),{},{moveDirection:i});default:return t}}));var At=function(){return o.a.createElement(c.a,{store:ct},o.a.createElement("div",{className:"App"},o.a.createElement("div",null,o.a.createElement(h,null)),o.a.createElement(F,null),o.a.createElement("div",null,o.a.createElement(at,null))))};i.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(At,null)),document.getElementById("root"))}},[[43,1,2]]]);
//# sourceMappingURL=main.7ca17289.chunk.js.map